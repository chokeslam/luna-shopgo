{"version":3,"sources":["currency.js"],"names":["System","register","_export","_context","Currency","setters","execute","static","num","addCode","arguments","length","undefined","currency","u","data","negative","Math","abs","formatted","decimalPlace","decimalPoint","space","signPosition","sign","format","code","window"],"mappings":"AAAAA,OAAOC,SAAS,IAAI,SAAUC,EAASC,GAGrC,IAIWC,EAAQ,OAAAF,EAAA,gBAAA,GAAA,CAAAG,QAAA,GAAAC,QAAA,WAPrBJ,EAAA,WAAAE,EAAA,MACAG,cAAAC,GACA,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACA,MAAAG,EAAAC,EAAAC,KAAA,YACA,IAAAC,EAAAR,EAAA,EACAA,EAAAS,KAAAC,IAAAV,GALAN,IAAAiB,EAOaf,EAAAA,aAANI,EAAMJ,EAASgB,aAAAP,EAAAQ,cACpBC,EAAAT,EAAAS,MAAA,IAAA,GAMF,MALA,UAAAT,EAAAU,aACAJ,EAAAN,EAAAW,KAAAF,EAAAH,EAEAA,GAAAG,EAAAT,EAAAW,KAEAR,EACSS,IAAUN,GACfV,IAEAU,EAAYN,EAAUa,KAAA,IAAAP,GAGlBA,EAOA,IAEFQ,OAJAR,SAAYN,CAKd,EAEJ","file":"currency.js","sourcesContent":["/**\n * Part of shopgo project.\n *\n * @copyright  Copyright (C) 2023 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nexport class Currency {\n  /**\n   * Translate from PHP Currency::formatPrice() by ChatGPT\n   *\n   * @param {Number|String} num\n   * @param {Boolean} addCode\n   * @returns {string}\n   */\n  static format(num, addCode = false) {\n    const currency = u.data('currency');\n\n    let negative = num < 0;\n    num = Math.abs(num);\n\n    let formatted = u.numberFormat(num, currency.decimalPlace, currency.decimalPoint);\n\n    let space = currency.space ? ' ' : '';\n\n    if (currency.signPosition === 'start') {\n      formatted = currency.sign + space + formatted;\n    } else {\n      formatted += space + currency.sign;\n    }\n\n    if (negative) {\n      return '-' + formatted;\n    }\n\n    if (addCode) {\n      formatted = currency.code + \" \" + formatted;\n    }\n\n    return formatted;\n  }\n}\n\nwindow.Currency = Currency;\n"]}