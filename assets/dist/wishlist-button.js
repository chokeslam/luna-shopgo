System.register(["@main"],(function(t,e){var s;return{setters:[function(t){}],execute:function(){s=class{constructor(t){this.el=t,this.icon=t.querySelector("i, span"),this.added="1"===t.dataset.added||"true"===t.dataset.added,this.type=t.dataset.type,this.id=t.dataset.id,this.el.addEventListener("click",(async()=>{await this.toggleFavorite(),this.refreshStyle()})),this.refreshStyle()}async toggleFavorite(){const t=this.added?"removeWishlist":"addWishlist";try{const e=await u.$http.post(`@wishlist_ajax/${t}`,{id:this.id});u.notify(e.data.message),this.added=!this.added,this.el.dataset.added=this.added?"1":"0"}catch(t){console.error(t),u.alert(t.message,"","warning")}}refreshStyle(){this.added?this.icon.setAttribute("class",this.el.dataset.iconActive):this.icon.setAttribute("class",this.el.dataset.iconInactive)}},u.directive("wishlist-button",{mounted(t){u.module(t,"wishlist.button",(()=>new s(t)))}})}}}));
//# sourceMappingURL=wishlist-button.js.map
